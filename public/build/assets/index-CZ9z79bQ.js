import{q as g,v as j,j as e,$ as v,m as u}from"./app-CLBteLs9.js";import{B as N}from"./breadcrumbs-C7i2lCOa.js";import{I as f,C}from"./app-sidebar-header-QSKYGMZA.js";import{B as b}from"./button-DAeEyEV5.js";import{A as F}from"./app-layout-DdJdBd68.js";import{I as l}from"./input-BgHnnLzX.js";import{L as a}from"./label-DFsQLXxW.js";import{f as w,b as z,a as _,u as L}from"./mask-B61Tbbsk.js";import{A as S}from"./app-alert-success-DE-Xoq-Y.js";import{S as B}from"./save-B6tQ_vFE.js";/* empty css            */import"./index-PTkiFtbG.js";import"./utils-D-KgF5mV.js";import"./chevron-right-C6zjtgW1.js";import"./createLucideIcon-9ynNMXlk.js";import"./wrench-DUHThLpE.js";import"./shopping-cart-oNKDgXYi.js";import"./memory-stick-sAZw_tsi.js";import"./file-text-BiW-3FgV.js";import"./printer-D86yLihC.js";import"./index-ByXRVnqI.js";import"./index-2KINA2Yo.js";import"./index-C4g8M7yD.js";import"./tslib.es6-M_FJ09fS.js";import"./x-XyC-3H21.js";import"./index-DB9Q1A16.js";import"./floating-ui.utils.dom-sMmpZ9NL.js";import"./index-Bww7mx3P.js";import"./badge-1ZJLf-mg.js";import"./moment-C5S46NFB.js";import"./index-Dly79ZYo.js";import"./chevron-down-BCCT11GP.js";import"./menu-B61YPrwe.js";import"./book-open-CGtGNuq-.js";const D=[{title:"Dashboard",href:route("app.dashboard")},{title:"Dados da empresa",href:"#"}];function ne({company:t}){const{flash:h}=g().props,{data:s,setData:r,processing:n,errors:d}=j({shortname:t==null?void 0:t.shortname,companyname:t==null?void 0:t.companyname,cnpj:t==null?void 0:t.cnpj,logo:null,zip_code:t==null?void 0:t.zip_code,state:t==null?void 0:t.state,city:t==null?void 0:t.city,district:t==null?void 0:t.district,street:t==null?void 0:t.street,number:t==null?void 0:t.number,complement:t==null?void 0:t.complement,telephone:t==null?void 0:t.telephone,whatsapp:t==null?void 0:t.whatsapp,site:t==null?void 0:t.site,email:t==null?void 0:t.email}),c=i=>{i.preventDefault(),u.post(route("app.company.update",t.id),{_method:"put",shortname:s==null?void 0:s.shortname,companyname:s==null?void 0:s.companyname,cnpj:s==null?void 0:s.cnpj,logo:s==null?void 0:s.logo,zip_code:s==null?void 0:s.zip_code,state:s==null?void 0:s.state,city:s==null?void 0:s.city,district:s==null?void 0:s.district,street:s==null?void 0:s.street,number:s==null?void 0:s.number,complement:s==null?void 0:s.complement,telephone:s==null?void 0:s.telephone,whatsapp:s==null?void 0:s.whatsapp,site:s==null?void 0:s.site,email:s==null?void 0:s.email,preserveScroll:!0})},x=i=>{const p=L(i);fetch(`https://viacep.com.br/ws/${p}/json/`).then(o=>o.json()).then(o=>{r(m=>({...m,state:o.uf})),r(m=>({...m,city:o.localidade})),r(m=>({...m,district:o.bairro})),r(m=>({...m,street:o.logradouro})),r(m=>({...m,complement:o.complemento}))}).catch(o=>console.error(o))};return e.jsxs(F,{children:[h.message&&e.jsx(S,{message:h.message}),e.jsx(v,{title:"Dados da empresa"}),e.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{iconNode:C,className:"w-8 h-8"}),e.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Dados da empresa"})]}),e.jsx("div",{children:e.jsx(N,{breadcrumbs:D})})]}),e.jsx("div",{className:"flex items-center justify-between p-4",children:e.jsx("div",{})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"border rounded-lg p-2",children:[e.jsx("div",{className:"w-24 my-10",children:e.jsx("img",{src:`/storage/logos/${t.logo?t.logo:"default.png"}`,alt:"Imagem de logo"})}),e.jsxs("form",{onSubmit:c,className:"space-y-8",children:[e.jsxs("div",{className:"grid md:grid-cols-6 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"logo",children:"Logotipo"}),e.jsx(l,{type:"file",id:"logo",onChange:i=>r("logo",i.target.files[0])}),d.logo&&e.jsx("div",{className:"text-red-500 text-sm",children:d.logo})]}),e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(a,{htmlFor:"name",children:"CPF/CNPJ"}),e.jsx(l,{type:"text",id:"cnpj",value:w(s.cnpj),onChange:i=>r("cnpj",i.target.value),maxLength:18}),d.cnpj&&e.jsx("div",{className:"text-red-500 text-sm",children:d.cnpj})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"shortname",children:"Nome curto"}),e.jsx(l,{type:"text",id:"shortname",value:s.shortname,onChange:i=>r("shortname",i.target.value)})]}),e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(a,{htmlFor:"companyname",children:"Razão social"}),e.jsx(l,{type:"text",id:"companyname",value:s.companyname,onChange:i=>r("companyname",i.target.value)}),d.companyname&&e.jsx("div",{className:"text-red-500 text-sm",children:d.companyname})]})]}),e.jsxs("div",{className:"grid md:grid-cols-6 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"zip_code",children:"CEP"}),e.jsx(l,{type:"text",id:"zip_code",value:z(s.zip_code),onChange:i=>r("zip_code",i.target.value),onBlur:i=>x(i.target.value),maxLength:9})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"state",children:"UF"}),e.jsx(l,{type:"text",id:"state",value:s.state,onChange:i=>r("state",i.target.value)}),d.state&&e.jsx("div",{children:d.state})]}),e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(a,{htmlFor:"city",children:"Cidade"}),e.jsx(l,{type:"text",id:"city",value:s.city,onChange:i=>r("city",i.target.value)})]}),e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(a,{htmlFor:"district",children:"Bairro"}),e.jsx(l,{type:"text",id:"district",value:s.district,onChange:i=>r("district",i.target.value)})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(a,{htmlFor:"street",children:"Logradouro"}),e.jsx(l,{type:"text",id:"street",value:s.street,onChange:i=>r("street",i.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"number",children:"Número"}),e.jsx(l,{type:"text",id:"number",value:s.number,onChange:i=>r("number",i.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"complement",children:"Complemento"}),e.jsx(l,{type:"text",id:"complement",value:s.complement,onChange:i=>r("complement",i.target.value)})]})]}),e.jsxs("div",{className:"grid md:grid-cols-6 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"telephone",children:"Telefone"}),e.jsx(l,{type:"text",id:"telephone",value:_(s.telephone),onChange:i=>r("telephone",i.target.value),maxLength:15}),d.telephone&&e.jsx("div",{className:"text-red-500 text-sm",children:d.telephone})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"whatsapp",children:"Whatsapp"}),e.jsx(l,{type:"text",id:"whatsapp",value:s.whatsapp,onChange:i=>r("whatsapp",i.target.value)})]}),e.jsxs("div",{className:"grid gap-2 md:col-span-2",children:[e.jsx(a,{htmlFor:"site",children:"Site"}),e.jsx(l,{type:"text",id:"site",value:s.site,onChange:i=>r("site",i.target.value)})]}),e.jsxs("div",{className:"grid gap-2 md:col-span-2",children:[e.jsx(a,{htmlFor:"email",children:"E-mail"}),e.jsx(l,{type:"text",id:"email",value:s.email,onChange:i=>r("email",i.target.value)})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(b,{type:"submit",disabled:n,children:[e.jsx(B,{}),"Salvar"]})})]})]})})]})}export{ne as default};
