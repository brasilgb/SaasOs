import{r as x,v as y,j as e}from"./app-CLBteLs9.js";import{B as o}from"./button-DAeEyEV5.js";import{D as V,a as F,b as w,c as M,d as T,e as B}from"./dialog-BuXqtEAf.js";import{I as O}from"./input-BgHnnLzX.js";import{L as i}from"./label-DFsQLXxW.js";import{S as t,a as c,b as n,c as m,d as p,e as u}from"./select-CtzDYOSl.js";import{T as k}from"./textarea-DLM_yRfN.js";import{d as q,e as E}from"./mask-B61Tbbsk.js";import{P as I}from"./plus-CGNaFTFh.js";import{S as $}from"./save-B6tQ_vFE.js";/* empty css            */import"./index-PTkiFtbG.js";import"./utils-D-KgF5mV.js";import"./index-C4g8M7yD.js";import"./index-ByXRVnqI.js";import"./index-2KINA2Yo.js";import"./tslib.es6-M_FJ09fS.js";import"./x-XyC-3H21.js";import"./createLucideIcon-9ynNMXlk.js";import"./index-DB9Q1A16.js";import"./floating-ui.utils.dom-sMmpZ9NL.js";import"./index-Bww7mx3P.js";import"./index-Dly79ZYo.js";import"./chevron-down-BCCT11GP.js";import"./check-BdHo7O9C.js";function ne({brands:h,models:v,services:j}){const[g,d]=x.useState(!1),{data:a,setData:l,processing:f,post:N,errors:r,reset:S}=y({brand_id:"",eqmodel_id:"",service_id:"",description:"",value:""}),b=s=>{s.preventDefault(),N(route("app.register-budgets.store"),{onSuccess:()=>{S(),d(!1)}})},C=h.map(s=>({value:s.id,label:s.brand})),_=v.map(s=>({value:s.id,label:s.model})),D=j.map(s=>({value:s.id,label:s.service}));return x.useEffect(()=>{l(s=>({...s,value:q(s==null?void 0:s.value)}))},[a==null?void 0:a.value]),e.jsx("div",{children:e.jsxs(V,{open:g,onOpenChange:d,children:[e.jsx(F,{asChild:!0,children:e.jsxs(o,{className:"gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),"Orçamento"]})}),e.jsxs(w,{className:"sm:max-w-[500px]",children:[e.jsx(M,{children:e.jsx(T,{children:"Cadastrar Orçamento"})}),e.jsxs("form",{onSubmit:b,autoComplete:"off",children:[e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"customer_id",children:"Serviço *"}),e.jsxs(t,{onValueChange:s=>l("service_id",s),defaultValue:a.service_id,children:[e.jsx(c,{className:"w-full",children:e.jsx(n,{placeholder:"Selecione o serviço"})}),e.jsx(m,{children:e.jsx(p,{children:D.map(s=>e.jsx(u,{value:`${s.value}`,children:s.label},s.value))})})]}),r.service_id&&e.jsx("div",{className:"text-red-500 text-sm",children:r.service_id})]})}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"customer_id",children:"Marca"}),e.jsxs(t,{onValueChange:s=>l("brand_id",s),defaultValue:a.brand_id,children:[e.jsx(c,{className:"w-full",children:e.jsx(n,{placeholder:"Selecione a marca"})}),e.jsx(m,{children:e.jsx(p,{children:C.map(s=>e.jsx(u,{value:`${s.value}`,children:s.label},s.value))})})]})]})}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"customer_id",children:"Modelo"}),e.jsxs(t,{onValueChange:s=>l("eqmodel_id",s),defaultValue:a.eqmodel_id,children:[e.jsx(c,{className:"w-full",children:e.jsx(n,{placeholder:"Selecione o modelo"})}),e.jsx(m,{children:e.jsx(p,{children:_.map(s=>e.jsx(u,{value:`${s.value}`,children:s.label},s.value))})})]})]})}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"description",children:"Descrição *"}),e.jsx(k,{id:"description",value:a.description,onChange:s=>l("description",s.target.value)}),r.description&&e.jsx("div",{className:"text-red-500 text-sm",children:r.description})]})}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"value",children:"Valor *"}),e.jsx(O,{id:"value",value:E(a.value),onChange:s=>l("value",s.target.value)}),r.value&&e.jsx("div",{className:"text-red-500 text-sm",children:r.value})]})}),e.jsxs(B,{className:"gap-2",children:[e.jsx(o,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),e.jsxs(o,{type:"submit",disabled:f,children:[e.jsx($,{}),"Salvar"]})]})]})]})]})})}export{ne as default};
