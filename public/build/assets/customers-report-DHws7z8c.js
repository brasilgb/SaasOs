import{r as u,j as o,m as n}from"./app-C7SzZZnv.js";import{B as a}from"./button-ChZ_2-Io.js";import{h as p}from"./moment-C5S46NFB.js";import{p as x}from"./react-pdf.browser-BtjBIKJG.js";import j from"./CustomerReportPDF-DJFR_5sp.js";import{L as D}from"./loader-circle-K1qXsJ5O.js";import{F as h}from"./file-text-D6X6kyVD.js";/* empty css            */import"./index-_lSrMmz5.js";import"./utils-D-KgF5mV.js";import"./tslib.es6-M_FJ09fS.js";import"./pt-br-BXju-SdZ.js";import"./mask-B61Tbbsk.js";import"./createLucideIcon-CxjEFevR.js";function P({dateRange:r}){const[t,m]=u.useState(!1);async function l(){!(r!=null&&r.from)||!(r!=null&&r.to)||(m(!0),n.post(route("app.reports.store"),{type:"customers",from:p(r.from).format("YYYY-MM-DD"),to:p(r.to).format("YYYY-MM-DD")},{preserveState:!1,preserveScroll:!0,onSuccess:async s=>{var i;const c=((i=s.props)==null?void 0:i.reportData)||[],e=await x(o.jsx(j,{data:c,dateRange:r})).toBlob(),f=URL.createObjectURL(e);window.open(f,"_blank")},onError:s=>{console.error("Erro ao gerar relatÃ³rio:",s)},onFinish:()=>m(!1)}))}return o.jsx("div",{className:"flex justify-center mt-4",children:o.jsx(a,{onClick:l,disabled:t||!(r!=null&&r.from)||!(r!=null&&r.to),className:"w-full sm:w-auto",children:t?o.jsxs(o.Fragment,{children:[o.jsx(D,{className:"mr-2 size-4 animate-spin"}),"Gerando PDF..."]}):o.jsxs(o.Fragment,{children:[o.jsx(h,{className:"mr-2 size-4"}),"Clientes cadastrados"]})})})}export{P as default};
