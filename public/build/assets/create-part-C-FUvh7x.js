import{i as N,a as C,r as u,u as k,j as e,H as P,L as F}from"./app-DCKq3iYY.js";import{B as S}from"./breadcrumbs-pusDlTPe.js";import{I as A}from"./app-sidebar-header-BCjRkLxe.js";import{B as x}from"./button-C1BBNDVX.js";import{A as O}from"./app-layout-DrErM7-l.js";import{I as o}from"./input-CGR9Yln-.js";import{L as l}from"./label-EGA6OZFX.js";import{u as h,m as q,d as j}from"./mask-DXHf6Xer.js";import{S as w}from"./switch-CCqO7SBj.js";import{M as L}from"./memory-stick-CNPSvN4B.js";import{A as D}from"./arrow-left-SIYjMzOJ.js";import{S as E}from"./save-CDdXkSQs.js";import"./utils-CDN07tui.js";import"./chevron-right-CmOuw9fw.js";import"./createLucideIcon-q2T83F1J.js";import"./wrench-DvmlS1xt.js";import"./shopping-cart-BQvTW_kC.js";import"./file-text-CPWno4V7.js";import"./printer-8oLpmT4U.js";import"./index-BTj-j31p.js";import"./index-D2eXF7-R.js";import"./index-8wtZ7S_H.js";import"./index-BvHZmlTt.js";import"./tslib.es6-M_FJ09fS.js";import"./x-DbwsEGHv.js";import"./index-CKeWYSvF.js";import"./floating-ui.dom-CT80KWrA.js";import"./index-BtXN1QPO.js";import"./badge-1Bxq3e_Z.js";import"./moment-BLMuvzoS.js";import"./index-Bveb4-Jp.js";import"./chevron-down-CU1FIzeo.js";import"./menu-qMVMnzZe.js";import"./book-open-B5N_Qza_.js";const I=N.create({baseURL:"http://localhost:8000/api/",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"*","Content-Type":"application/json"}}),T=[{title:"Dashboard",href:route("app.dashboard")},{title:"Peças",href:route("app.parts.index")},{title:"Adicionar",href:"#"}];function fe(){const{flash:M}=C().props,[n,d]=u.useState(!1),{data:i,setData:s,post:v,progress:B,processing:g,reset:p,errors:r}=k({part_number:"",name:"",description:"",manufacturer:"",model_compatibility:"",cost_price:"",sale_price:"",quantity:"",minimum_stock_level:"",location:"",status:!1}),_=async t=>{t.preventDefault(),v(route("app.parts.store"),{onSuccess:()=>p()})},f=async t=>{t.preventDefault();let y=t.target.value;try{const m=await I.get(`getparts/${y}`),{success:b,parts:c}=m.data;b&&c?(d(!0),s(a=>({...a,name:c.name})),s(a=>({...a,description:c.description})),s(a=>({...a,manufacturer:c.manufacturer})),s(a=>({...a,model_compatibility:c.model_compatibility})),s(a=>({...a,cost_price:c.cost_price})),s(a=>({...a,sale_price:c.sale_price})),s(a=>({...a,quantity:"0"})),s(a=>({...a,minimum_stock_level:c.minimum_stock_level})),s(a=>({...a,location:c.location})),s(a=>({...a,status:c.status}))):(d(!1),p("name","description","manufacturer","model_compatibility","quantity","minimum_stock_level","location","status"),s(a=>({...a,cost_price:"0"})),s(a=>({...a,sale_price:"0"})))}catch(m){console.log(m)}};return u.useEffect(()=>{s(t=>({...t,cost_price:h(t.cost_price)})),s(t=>({...t,sale_price:h(t.sale_price)}))},[i.cost_price,i.sale_price]),e.jsxs(O,{children:[e.jsx(P,{title:"Peças"}),e.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{iconNode:L,className:"w-8 h-8"}),e.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Peças"})]}),e.jsx("div",{children:e.jsx(S,{breadcrumbs:T})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsx("div",{children:e.jsx(x,{variant:"default",asChild:!0,children:e.jsxs(F,{href:route("app.parts.index"),children:[e.jsx(D,{"h-4":!0,"w-4":!0}),e.jsx("span",{children:"Voltar"})]})})}),e.jsx("div",{})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"border rounded-lg p-2",children:e.jsxs("form",{onSubmit:_,className:"space-y-8",children:[e.jsxs("div",{className:"grid md:grid-cols-6 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"name",children:"Part Number"}),e.jsx(o,{type:"text",id:"part_number",value:q(i.part_number),onChange:t=>s("part_number",t.target.value),onBlur:t=>f(t),maxLength:18}),r.part_number&&e.jsx("div",{className:"text-red-500 text-sm",children:r.part_number})]}),e.jsxs("div",{className:"grid gap-2 md:col-span-2",children:[e.jsx(l,{htmlFor:"name",children:"Nome da peça"}),e.jsx(o,{type:"text",id:"name",value:i.name,onChange:t=>s("name",t.target.value),readOnly:n}),r.name&&e.jsx("div",{className:"text-red-500 text-sm",children:r.name})]}),e.jsxs("div",{className:"md:col-span-3 grid gap-2",children:[e.jsx(l,{htmlFor:"description",children:"Descrição"}),e.jsx(o,{type:"text",id:"description",value:i.description,onChange:t=>s("description",t.target.value),readOnly:n}),r.description&&e.jsx("div",{className:"text-red-500 text-sm",children:r.description})]})]}),e.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"manufacturer",children:"Fabricante"}),e.jsx(o,{type:"text",id:"manufacturer",value:i.manufacturer,onChange:t=>s("manufacturer",t.target.value),readOnly:n}),r.manufacturer&&e.jsx("div",{className:"text-red-500 text-sm",children:r.manufacturer})]}),e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(l,{htmlFor:"model_compatibility",children:"Modelos compatíveis"}),e.jsx(o,{type:"text",id:"model_compatibility",value:i.model_compatibility,onChange:t=>s("model_compatibility",t.target.value),readOnly:n})]}),e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(l,{htmlFor:"location",children:"Local de armazenamento"}),e.jsx(o,{type:"text",id:"location",value:i.location,onChange:t=>s("location",t.target.value),readOnly:n})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"cost_price",children:"Preço de custo"}),e.jsx(o,{type:"text",id:"cost_price",value:j(i.cost_price),onChange:t=>s("cost_price",t.target.value),readOnly:n}),r.cost_price&&e.jsx("div",{className:"text-red-500 text-sm",children:r.cost_price})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"sale_price",children:"Preço de venda"}),e.jsx(o,{type:"text",id:"sale_price",value:j(i.sale_price),onChange:t=>s("sale_price",t.target.value),readOnly:n}),r.sale_price&&e.jsx("div",{className:"text-red-500 text-sm",children:r.sale_price})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"quantity",children:"Quantidade em estoque"}),e.jsx(o,{type:"number",id:"quantity",value:i.quantity,onChange:t=>s("quantity",t.target.value)}),r.quantity&&e.jsx("div",{className:"text-red-500 text-sm",children:r.quantity})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"minimum_stock_level",children:"Estoque mínimo"}),e.jsx(o,{type:"number",id:"minimum_stock_level",value:i.minimum_stock_level,onChange:t=>s("minimum_stock_level",t.target.value),readOnly:n}),r.minimum_stock_level&&e.jsx("div",{className:"text-red-500 text-sm",children:r.minimum_stock_level})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"status",children:"Status da peça"}),e.jsx(w,{id:"status",checked:i.status,onCheckedChange:t=>s("status",t)})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(x,{type:"submit",disabled:g,children:[e.jsx(E,{}),"Salvar"]})})]})})})]})}export{fe as default};
