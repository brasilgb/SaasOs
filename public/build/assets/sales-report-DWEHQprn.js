import{r as a,j as o,ba as n,a7 as x,d as j,v as D}from"./vendor-DSyLU8h0.js";import{B as h}from"./button-BbUgFgUv.js";import{h as e}from"./moment-BLMuvzoS.js";import Y from"./SaleReportPDF-DQlMKvsZ.js";import"./utils-BzNdXqU4.js";import"./mask-Dzd4Hpc-.js";function E({dateRange:r,company:m}){const[t,l]=a.useState(!1);async function c(){!(r!=null&&r.from)||!(r!=null&&r.to)||(l(!0),j.post(route("app.reports.store"),{type:"sales",from:e(r.from).format("YYYY-MM-DD"),to:e(r.to).format("YYYY-MM-DD")},{preserveState:!1,preserveScroll:!0,onSuccess:async s=>{var i;const p=((i=s.props)==null?void 0:i.reportData)||[],f=await D(o.jsx(Y,{data:p,dateRange:r,company:m})).toBlob(),u=URL.createObjectURL(f);window.open(u,"_blank")},onError:s=>{console.error("Erro ao gerar relatório:",s)},onFinish:()=>l(!1)}))}return o.jsx("div",{className:"flex justify-center mt-4",children:o.jsx(h,{onClick:c,disabled:t||!(r!=null&&r.from)||!(r!=null&&r.to),className:"w-full sm:w-auto",children:t?o.jsxs(o.Fragment,{children:[o.jsx(n,{className:"mr-2 size-4 animate-spin"}),"Gerando PDF..."]}):o.jsxs(o.Fragment,{children:[o.jsx(x,{className:"mr-2 size-4"}),"Vendas de peças e Produtos"]})})})}export{E as default};
