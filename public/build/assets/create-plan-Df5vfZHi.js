import{r as c,u as j,j as e,P as v,b as f}from"./vendor-9cxgAHzg.js";import{B as i}from"./button-DFigV1aq.js";import{d as N,c as C,e as S}from"./mask-Dzd4Hpc-.js";import{I as n}from"./input-D2aH1Wd-.js";import{L as l}from"./label-BRTi3l1J.js";import{T as D}from"./textarea-a2nrSQrB.js";import{D as y,a as b,b as F,c as P,d as T,e as k}from"./dialog-CDKjSUwF.js";import{t as E}from"./app-toast-messages-BBGi5OF3.js";import"./utils-veIRhKZd.js";import"./index-C6x6Dy02.js";function A(){const[d,o]=c.useState(!1),{data:t,setData:r,post:m,progress:w,processing:u,reset:x,errors:a}=j({name:"",slug:"",description:"",value:"0.00"}),p=s=>{const h=S(s);r("name",s),r("slug",h)},g=async s=>{s.preventDefault(),m(route("admin.plans.store"),{onSuccess:()=>{E("Sucesso","Cadastro realizado com sucesso"),x(),o(!1)}})};return c.useEffect(()=>{r("value",N(t.value))},[t.value]),e.jsxs(y,{open:d,onOpenChange:o,children:[e.jsx(b,{asChild:!0,children:e.jsxs(i,{className:"gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),"Plano"]})}),e.jsxs(F,{className:"sm:max-w-[500px]",children:[e.jsx(P,{children:e.jsx(T,{children:"Cadastrar um plano"})}),e.jsxs("form",{onSubmit:g,autoComplete:"off",className:"space-y-8",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"name",children:"Nome"}),e.jsx(n,{type:"text",id:"name",value:t.name,onChange:s=>p(s.target.value)}),a.name&&e.jsx("div",{className:"text-red-500 text-sm",children:a.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"slug",children:"Slug"}),e.jsx(n,{type:"text",id:"slug",value:t.slug,onChange:s=>r("slug",s.target.value)}),a.slug&&e.jsx("div",{className:"text-red-500 text-sm",children:a.slug})]}),e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(l,{htmlFor:"description",children:"Descrição"}),e.jsx(D,{id:"description",value:t.description,onChange:s=>r("description",s.target.value)}),a.description&&e.jsx("div",{className:"text-red-500 text-sm",children:a.description})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"value",children:"Valor"}),e.jsx(n,{type:"text",id:"value",value:C(t.value),onChange:s=>r("value",s.target.value)}),a.value&&e.jsx("div",{className:"text-red-500 text-sm",children:a.value})]}),e.jsxs(k,{className:"gap-2",children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),e.jsxs(i,{type:"submit",disabled:u,children:[e.jsx(f,{}),"Salvar"]})]})]})]})]})}export{A as default};
