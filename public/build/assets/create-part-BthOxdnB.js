import{e as y,q as b,r as N,v as C,j as e,$ as k,Y as P}from"./app-D95nIBCJ.js";import{B as S}from"./breadcrumbs-Bwj04LpZ.js";import{I as F}from"./app-sidebar-header-DGWfFvXN.js";import{B as u}from"./button-DUxTs59i.js";import{A as q}from"./app-layout-DZxt_3oM.js";import{I as o}from"./input-WVJyE6wF.js";import{L as l}from"./label-ILpRmUHx.js";import{m as A,e as x}from"./mask-B61Tbbsk.js";import{S as O}from"./switch-BcqsIaGr.js";import{M as w}from"./memory-stick-Ks9ednoy.js";import{A as D}from"./arrow-left-BDhp7eII.js";import{S as L}from"./save-D3ohFCvc.js";import"./utils-D-KgF5mV.js";import"./createLucideIcon-DX9zKF4t.js";import"./wrench-Bk32GY19.js";import"./settings-B1URX_tl.js";import"./printer-CxAvs2lI.js";import"./index-DAK4vICW.js";import"./index-BJK0evfi.js";import"./index-BatG8mnm.js";import"./tslib.es6-M_FJ09fS.js";import"./x-Cl2SYEt3.js";import"./index-CKhdGzml.js";import"./floating-ui.utils.dom-sMmpZ9NL.js";import"./index-Ds1m4UAU.js";import"./moment-C5S46NFB.js";import"./index-BBK64Ydr.js";import"./chevron-down-CUmKO4CD.js";import"./menu-DBbLWJ8x.js";const E=y.create({baseURL:"http://localhost:8000/api/",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"*","Content-Type":"application/json"}}),I=[{title:"Dashboard",href:route("app.dashboard")},{title:"Peças",href:route("app.parts.index")},{title:"Adicionar",href:"#"}];function ue(){const{flash:T}=b().props,[n,d]=N.useState(!1),{data:i,setData:a,post:h,processing:j,reset:p,errors:r}=C({part_number:"",name:"",description:"",manufacturer:"",model_compatibility:"",cost_price:"",sale_price:"",quantity:"",minimum_stock_level:"",location:"",status:!1}),v=async t=>{t.preventDefault(),h(route("app.parts.store"),{onSuccess:()=>p()})},g=async t=>{t.preventDefault();let _=t.target.value;try{const m=await E.get(`getparts/${_}`),{success:f,parts:c}=m.data;f&&c?(d(!0),a(s=>({...s,name:c.name})),a(s=>({...s,description:c.description})),a(s=>({...s,manufacturer:c.manufacturer})),a(s=>({...s,model_compatibility:c.model_compatibility})),a(s=>({...s,cost_price:c.cost_price})),a(s=>({...s,sale_price:c.sale_price})),a(s=>({...s,quantity:"0"})),a(s=>({...s,minimum_stock_level:c.minimum_stock_level})),a(s=>({...s,location:c.location})),a(s=>({...s,status:c.status}))):(d(!1),p("name","description","manufacturer","model_compatibility","quantity","minimum_stock_level","location","status"),a(s=>({...s,cost_price:"0"})),a(s=>({...s,sale_price:"0"})))}catch(m){console.log(m)}};return e.jsxs(q,{children:[e.jsx(k,{title:"Peças"}),e.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{iconNode:w,className:"w-8 h-8"}),e.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Peças"})]}),e.jsx("div",{children:e.jsx(S,{breadcrumbs:I})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsx("div",{children:e.jsx(u,{variant:"default",asChild:!0,children:e.jsxs(P,{href:route("app.parts.index"),children:[e.jsx(D,{"h-4":!0,"w-4":!0}),e.jsx("span",{children:"Voltar"})]})})}),e.jsx("div",{})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"border rounded-lg p-2",children:e.jsxs("form",{onSubmit:v,className:"space-y-8",children:[e.jsxs("div",{className:"grid md:grid-cols-6 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"name",children:"Part Number"}),e.jsx(o,{type:"text",id:"part_number",value:A(i.part_number),onChange:t=>a("part_number",t.target.value),onBlur:t=>g(t),maxLength:18}),r.part_number&&e.jsx("div",{className:"text-red-500 text-sm",children:r.part_number})]}),e.jsxs("div",{className:"grid gap-2 md:col-span-2",children:[e.jsx(l,{htmlFor:"name",children:"Nome da peça"}),e.jsx(o,{type:"text",id:"name",value:i.name,onChange:t=>a("name",t.target.value),readOnly:n}),r.name&&e.jsx("div",{className:"text-red-500 text-sm",children:r.name})]}),e.jsxs("div",{className:"md:col-span-3 grid gap-2",children:[e.jsx(l,{htmlFor:"description",children:"Descrição"}),e.jsx(o,{type:"text",id:"description",value:i.description,onChange:t=>a("description",t.target.value),readOnly:n}),r.description&&e.jsx("div",{className:"text-red-500 text-sm",children:r.description})]})]}),e.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"manufacturer",children:"Fabricante"}),e.jsx(o,{type:"text",id:"manufacturer",value:i.manufacturer,onChange:t=>a("manufacturer",t.target.value),readOnly:n}),r.manufacturer&&e.jsx("div",{className:"text-red-500 text-sm",children:r.manufacturer})]}),e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(l,{htmlFor:"model_compatibility",children:"Modelos compatíveis"}),e.jsx(o,{type:"text",id:"model_compatibility",value:i.model_compatibility,onChange:t=>a("model_compatibility",t.target.value),readOnly:n})]}),e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(l,{htmlFor:"location",children:"Local de armazenamento"}),e.jsx(o,{type:"text",id:"location",value:i.location,onChange:t=>a("location",t.target.value),readOnly:n})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"cost_price",children:"Preço de custo"}),e.jsx(o,{type:"text",id:"cost_price",value:x(i.cost_price),onChange:t=>a("cost_price",t.target.value),readOnly:n}),r.cost_price&&e.jsx("div",{className:"text-red-500 text-sm",children:r.cost_price})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"sale_price",children:"Preço de venda"}),e.jsx(o,{type:"text",id:"sale_price",value:x(i.sale_price),onChange:t=>a("sale_price",t.target.value),readOnly:n}),r.sale_price&&e.jsx("div",{className:"text-red-500 text-sm",children:r.sale_price})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"quantity",children:"Quantidade em estoque"}),e.jsx(o,{type:"number",id:"quantity",value:i.quantity,onChange:t=>a("quantity",t.target.value)}),r.quantity&&e.jsx("div",{className:"text-red-500 text-sm",children:r.quantity})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"minimum_stock_level",children:"Estoque mínimo"}),e.jsx(o,{type:"number",id:"minimum_stock_level",value:i.minimum_stock_level,onChange:t=>a("minimum_stock_level",t.target.value),readOnly:n}),r.minimum_stock_level&&e.jsx("div",{className:"text-red-500 text-sm",children:r.minimum_stock_level})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"status",children:"Status da peça"}),e.jsx(O,{id:"status",checked:i.status,onCheckedChange:t=>a("status",t)})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(u,{type:"submit",disabled:j,children:[e.jsx(L,{}),"Salvar"]})})]})})})]})}export{ue as default};
