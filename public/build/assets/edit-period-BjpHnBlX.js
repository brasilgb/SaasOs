import{r as u,u as v,j as e,e as g,b as j}from"./vendor-BCaUCftH.js";import{B as o}from"./button-DiBFJldJ.js";import{I as n}from"./input-DCG2Keqb.js";import{L as i}from"./label-BubkbjOL.js";import{D as f,a as N,b as S,c as _,d as C,e as b}from"./dialog-tQ4UDexh.js";import{S as D,a as y,b as F,c as w,d as I,e as P}from"./select-DYsAoVtc.js";import"./utils-DxAEgwAc.js";function G({plans:c,period:t}){const[m,d]=u.useState(!1),{data:r,setData:l,patch:x,progress:E,processing:h,reset:T,errors:s}=v({name:t.name,plan_id:t.plan_id,interval:t.interval,interval_count:t.interval_count,price:t.price}),p=async a=>{a.preventDefault(),x(route("admin.periods.update",t.id),{onSuccess:()=>d(!1)})};return e.jsxs(f,{open:m,onOpenChange:d,children:[e.jsx(N,{asChild:!0,children:e.jsx(o,{className:"gap-2 bg-orange-500 hover:bg-orange-600 text-white",children:e.jsx(g,{className:"h-4 w-4"})})}),e.jsxs(S,{className:"sm:max-w-[500px]",children:[e.jsx(_,{children:e.jsx(C,{children:"Cadastrar um período"})}),e.jsxs("form",{onSubmit:p,autoComplete:"off",className:"space-y-8",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"name",children:"Descrição"}),e.jsx(n,{type:"text",id:"name",value:r.name,onChange:a=>l("name",a.target.value)}),s.name&&e.jsx("div",{className:"text-red-500 text-sm",children:s.name})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"interval",children:"Intervalo"}),e.jsx(n,{type:"text",id:"interval",value:r.interval,onChange:a=>l("interval",a.target.value)}),s.interval&&e.jsx("div",{className:"text-red-500 text-sm",children:s.interval})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"interval_count",children:"Contagem do intervalo"}),e.jsx(n,{type:"text",id:"interval_count",value:r.interval_count,onChange:a=>l("interval_count",a.target.value)}),s.interval_count&&e.jsx("div",{className:"text-red-500 text-sm",children:s.interval_count})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"plan_id",children:"Plano"}),e.jsxs(D,{onValueChange:a=>l("plan_id",a),defaultValue:`${r.plan_id}`,children:[e.jsx(y,{className:"w-full",children:e.jsx(F,{placeholder:"Selecione um plano"})}),e.jsx(w,{children:e.jsx(I,{children:c==null?void 0:c.map(a=>e.jsx(P,{value:`${a.id}`,children:a.name},a.id))})})]}),s.plan_id&&e.jsx("div",{className:"text-red-500 text-sm",children:s.plan_id})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"price",children:"Preço"}),e.jsx(n,{type:"text",id:"price",value:r.price,onChange:a=>l("price",a.target.value)}),s.price&&e.jsx("div",{className:"text-red-500 text-sm",children:s.price})]}),e.jsxs(b,{className:"gap-2",children:[e.jsx(o,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),e.jsxs(o,{type:"submit",disabled:h,children:[e.jsx(j,{}),"Salvar"]})]})]})]})]})}export{G as default};
