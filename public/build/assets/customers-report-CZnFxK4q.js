import{r as n,j as o,bb as a,a6 as x,i as j,t as D}from"./vendor-DAFaRPSW.js";import{B as b}from"./button-BLBZ8SJO.js";import{h as l}from"./moment-BLMuvzoS.js";import h from"./CustomerReportPDF-_JgWh8tp.js";import"./utils-Cs9_lP8d.js";import"./pt-br-DYu2O2EU.js";import"./mask-Dzd4Hpc-.js";function M({dateRange:r,company:c}){const[t,i]=n.useState(!1);async function e(){!(r!=null&&r.from)||!(r!=null&&r.to)||(i(!0),j.post(route("app.reports.store"),{type:"customers",from:l(r.from).format("YYYY-MM-DD"),to:l(r.to).format("YYYY-MM-DD")},{preserveState:!1,preserveScroll:!0,onSuccess:async s=>{var m;const p=((m=s.props)==null?void 0:m.reportData)||[],f=await D(o.jsx(h,{data:p,dateRange:r,company:c})).toBlob(),u=URL.createObjectURL(f);window.open(u,"_blank")},onError:s=>{console.error("Erro ao gerar relatÃ³rio:",s)},onFinish:()=>i(!1)}))}return o.jsx("div",{className:"flex justify-center mt-4",children:o.jsx(b,{onClick:e,disabled:t||!(r!=null&&r.from)||!(r!=null&&r.to),className:"w-full sm:w-auto",children:t?o.jsxs(o.Fragment,{children:[o.jsx(a,{className:"mr-2 size-4 animate-spin"}),"Gerando PDF..."]}):o.jsxs(o.Fragment,{children:[o.jsx(x,{className:"mr-2 size-4"}),"Clientes cadastrados"]})})})}export{M as default};
