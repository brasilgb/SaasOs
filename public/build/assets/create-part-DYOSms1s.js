import{e as N,q as C,r as u,v as k,j as e,$ as P,Y as S}from"./app-CLBteLs9.js";import{B as F}from"./breadcrumbs-C7i2lCOa.js";import{I as q}from"./app-sidebar-header-QSKYGMZA.js";import{B as x}from"./button-DAeEyEV5.js";import{A}from"./app-layout-DdJdBd68.js";import{I as o}from"./input-BgHnnLzX.js";import{L as l}from"./label-DFsQLXxW.js";import{u as h,m as O,e as j}from"./mask-B61Tbbsk.js";import{S as w}from"./switch-C-8UxhdT.js";import{M as D}from"./memory-stick-sAZw_tsi.js";import{A as E}from"./arrow-left-DHew7wRr.js";import{S as L}from"./save-B6tQ_vFE.js";/* empty css            */import"./index-PTkiFtbG.js";import"./utils-D-KgF5mV.js";import"./chevron-right-C6zjtgW1.js";import"./createLucideIcon-9ynNMXlk.js";import"./wrench-DUHThLpE.js";import"./shopping-cart-oNKDgXYi.js";import"./file-text-BiW-3FgV.js";import"./printer-D86yLihC.js";import"./index-ByXRVnqI.js";import"./index-2KINA2Yo.js";import"./index-C4g8M7yD.js";import"./tslib.es6-M_FJ09fS.js";import"./x-XyC-3H21.js";import"./index-DB9Q1A16.js";import"./floating-ui.utils.dom-sMmpZ9NL.js";import"./index-Bww7mx3P.js";import"./badge-1ZJLf-mg.js";import"./moment-C5S46NFB.js";import"./index-Dly79ZYo.js";import"./chevron-down-BCCT11GP.js";import"./menu-B61YPrwe.js";import"./book-open-CGtGNuq-.js";const I=N.create({baseURL:"http://localhost:8000/api/",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"*","Content-Type":"application/json"}}),T=[{title:"Dashboard",href:route("app.dashboard")},{title:"Peças",href:route("app.parts.index")},{title:"Adicionar",href:"#"}];function fe(){const{flash:M}=C().props,[m,d]=u.useState(!1),{data:i,setData:s,post:v,processing:g,reset:p,errors:r}=k({part_number:"",name:"",description:"",manufacturer:"",model_compatibility:"",cost_price:"",sale_price:"",quantity:"",minimum_stock_level:"",location:"",status:!1}),_=async t=>{t.preventDefault(),v(route("app.parts.store"),{onSuccess:()=>p()})},f=async t=>{t.preventDefault();let y=t.target.value;try{const n=await I.get(`getparts/${y}`),{success:b,parts:c}=n.data;b&&c?(d(!0),s(a=>({...a,name:c.name})),s(a=>({...a,description:c.description})),s(a=>({...a,manufacturer:c.manufacturer})),s(a=>({...a,model_compatibility:c.model_compatibility})),s(a=>({...a,cost_price:c.cost_price})),s(a=>({...a,sale_price:c.sale_price})),s(a=>({...a,quantity:"0"})),s(a=>({...a,minimum_stock_level:c.minimum_stock_level})),s(a=>({...a,location:c.location})),s(a=>({...a,status:c.status}))):(d(!1),p("name","description","manufacturer","model_compatibility","quantity","minimum_stock_level","location","status"),s(a=>({...a,cost_price:"0"})),s(a=>({...a,sale_price:"0"})))}catch(n){console.log(n)}};return u.useEffect(()=>{s(t=>({...t,cost_price:h(t.cost_price)})),s(t=>({...t,sale_price:h(t.sale_price)}))},[i.cost_price,i.sale_price]),e.jsxs(A,{children:[e.jsx(P,{title:"Peças"}),e.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{iconNode:D,className:"w-8 h-8"}),e.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Peças"})]}),e.jsx("div",{children:e.jsx(F,{breadcrumbs:T})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsx("div",{children:e.jsx(x,{variant:"default",asChild:!0,children:e.jsxs(S,{href:route("app.parts.index"),children:[e.jsx(E,{"h-4":!0,"w-4":!0}),e.jsx("span",{children:"Voltar"})]})})}),e.jsx("div",{})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"border rounded-lg p-2",children:e.jsxs("form",{onSubmit:_,className:"space-y-8",children:[e.jsxs("div",{className:"grid md:grid-cols-6 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"name",children:"Part Number"}),e.jsx(o,{type:"text",id:"part_number",value:O(i.part_number),onChange:t=>s("part_number",t.target.value),onBlur:t=>f(t),maxLength:18}),r.part_number&&e.jsx("div",{className:"text-red-500 text-sm",children:r.part_number})]}),e.jsxs("div",{className:"grid gap-2 md:col-span-2",children:[e.jsx(l,{htmlFor:"name",children:"Nome da peça"}),e.jsx(o,{type:"text",id:"name",value:i.name,onChange:t=>s("name",t.target.value),readOnly:m}),r.name&&e.jsx("div",{className:"text-red-500 text-sm",children:r.name})]}),e.jsxs("div",{className:"md:col-span-3 grid gap-2",children:[e.jsx(l,{htmlFor:"description",children:"Descrição"}),e.jsx(o,{type:"text",id:"description",value:i.description,onChange:t=>s("description",t.target.value),readOnly:m}),r.description&&e.jsx("div",{className:"text-red-500 text-sm",children:r.description})]})]}),e.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"manufacturer",children:"Fabricante"}),e.jsx(o,{type:"text",id:"manufacturer",value:i.manufacturer,onChange:t=>s("manufacturer",t.target.value),readOnly:m}),r.manufacturer&&e.jsx("div",{className:"text-red-500 text-sm",children:r.manufacturer})]}),e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(l,{htmlFor:"model_compatibility",children:"Modelos compatíveis"}),e.jsx(o,{type:"text",id:"model_compatibility",value:i.model_compatibility,onChange:t=>s("model_compatibility",t.target.value),readOnly:m})]}),e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(l,{htmlFor:"location",children:"Local de armazenamento"}),e.jsx(o,{type:"text",id:"location",value:i.location,onChange:t=>s("location",t.target.value),readOnly:m})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"cost_price",children:"Preço de custo"}),e.jsx(o,{type:"text",id:"cost_price",value:j(i.cost_price),onChange:t=>s("cost_price",t.target.value),readOnly:m}),r.cost_price&&e.jsx("div",{className:"text-red-500 text-sm",children:r.cost_price})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"sale_price",children:"Preço de venda"}),e.jsx(o,{type:"text",id:"sale_price",value:j(i.sale_price),onChange:t=>s("sale_price",t.target.value),readOnly:m}),r.sale_price&&e.jsx("div",{className:"text-red-500 text-sm",children:r.sale_price})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"quantity",children:"Quantidade em estoque"}),e.jsx(o,{type:"number",id:"quantity",value:i.quantity,onChange:t=>s("quantity",t.target.value)}),r.quantity&&e.jsx("div",{className:"text-red-500 text-sm",children:r.quantity})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"minimum_stock_level",children:"Estoque mínimo"}),e.jsx(o,{type:"number",id:"minimum_stock_level",value:i.minimum_stock_level,onChange:t=>s("minimum_stock_level",t.target.value),readOnly:m}),r.minimum_stock_level&&e.jsx("div",{className:"text-red-500 text-sm",children:r.minimum_stock_level})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"status",children:"Status da peça"}),e.jsx(w,{id:"status",checked:i.status,onCheckedChange:t=>s("status",t)})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(x,{type:"submit",disabled:g,children:[e.jsx(L,{}),"Salvar"]})})]})})})]})}export{fe as default};
